{"version":3,"file":"static/js/234.8d733b19.chunk.js","mappings":"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","sources":["services/Api.jsx","services/GetUsers.jsx","services/GetAllUsers.jsx","webpack://test/./src/components/FollowButton/FollowButton.module.css?5e3f","components/FollowButton/FollowButton.jsx","webpack://test/./src/components/UserListItem/UserListItem.module.css?3495","components/UserListItem/UserListItem.jsx","webpack://test/./src/components/UserList/UserList.module.css?8f44","components/UserList/UserList.jsx","webpack://test/./src/components/LoadMoreButton/LoadMoreButton.module.css?ca48","components/LoadMoreButton/LoadMoreButton.jsx","webpack://test/./src/views/TweetsView/TweetsView.module.css?31aa","views/TweetsView/TweetsView.jsx"],"sourcesContent":["import axios from \"axios\";\n\nexport const http = {\n    get(url) {\n        return axios.get(url);\n    },\n    put(url, body) {\n        return axios.put(url, body);\n    }\n};","import { http } from \"./Api\";\n\nconst BASE_URL = 'https://643a731890cd4ba563f9a53b.mockapi.io/api/v1/';\n\nexport default function getUsers (page = 1, limit = 8) {\n    return http.get(`${BASE_URL}users?p=${page}&l=${limit}`);\n};","import { http } from \"./Api\";\n\nconst BASE_URL = 'https://643a731890cd4ba563f9a53b.mockapi.io/api/v1/';\n\nexport default function getAllUsers () {\n    return http.get(`${BASE_URL}users`);\n};","// extracted by mini-css-extract-plugin\nexport default {\"followButton\":\"FollowButton_followButton__snK3K\"};","import { useState, useEffect } from \"react\";\nimport PropTypes from 'prop-types';\nimport s from './FollowButton.module.css';\n\nexport default function FollowButton({ id, followers, onFollowersChange }) {\n    const [following, setFollowing] = useState(false);\n    const [followersCount, setFollowersCount] = useState(followers);\n\n    useEffect(() => {\n        const followingLS = localStorage.getItem(`following-${id}`);\n        const followersCountLS = localStorage.getItem(`followersCount-${id}`);\n        if(followingLS !== null && followersCountLS !== null) {\n            setFollowing(JSON.parse(followingLS));\n            setFollowersCount(JSON.parse(followersCountLS));\n        }\n    }, [id]);\n    \n    const onFollowClick = (id) => {\n        const newFollowersCount = following ? followersCount - 1 : followersCount + 1;\n        localStorage.setItem(`following-${id}`, !following);\n        localStorage.setItem(`followersCount-${id}`, newFollowersCount);\n        setFollowing(!following);\n        setFollowersCount(newFollowersCount);\n        onFollowersChange(newFollowersCount);      \n    };\n\n    return (\n        <button type=\"button\"\n                className={s.followButton}\n                onClick={() => onFollowClick(id)}\n                style={{ backgroundColor: following ? 'var(--accent-color)' : 'var(--secondary-color)' }}>\n            {following ? 'Following' : 'Follow'}\n        </button>\n    )\n};\n\nFollowButton.propTypes = {\n    id: PropTypes.number.isRequired,\n    followers: PropTypes.number.isRequired,\n    onFollowersChange: PropTypes.func.isRequired\n};\n\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"UserListItem_item__WgKxR\",\"logo\":\"UserListItem_logo__fE6dN\",\"picture\":\"UserListItem_picture__sHGRE\",\"divider\":\"UserListItem_divider__tp7NX\",\"avatar\":\"UserListItem_avatar__m5GSc\",\"text\":\"UserListItem_text__OirAE\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport logo from '../../images/logo.png';\nimport picture from '../../images/picture.png';\nimport FollowButton from '../FollowButton';\nimport s from './UserListItem.module.css';\n\nexport default function UserListItem({ id, name, tweets, followers, avatar }) {\n    const [followersCount, setFollowersCount] = useState(followers);\n    const handleFollowersChange = (newCount) => {\n        setFollowersCount(newCount);\n    }\n    const formatLabel = (number, singularLabel, pluralLabel) => {\n        return number === 1 ? `${number} ${singularLabel}` : `${number.toLocaleString()} ${pluralLabel}`;\n    }\n    return (\n        <li className={s.item}>\n            <img className={s.logo} src={logo} alt='logo' width=\"76\" height=\"22\" />\n            <img className={s.picture} src={picture} alt='abstract figures' width=\"308\" height=\"168\" />\n            <div className={s.divider}>\n                <img className={s.avatar} src={avatar} alt={name} width=\"62\" height=\"62\" />\n            </div>\n            <div className={s.text}>\n                <span style={{fontWeight: 700, color: 'var(--accent-color)'}}>{name}</span>\n                <span>{formatLabel(tweets, 'tweet', 'tweets')}</span>\n                <span>{formatLabel(followersCount, 'follower', 'followers')}</span>\n            </div>\n            <FollowButton id={id} followers={followersCount} onFollowersChange={handleFollowersChange} />\n        </li>\n    )\n};\n\nUserListItem.propTypes = {\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    tweets: PropTypes.number.isRequired,\n    followers: PropTypes.number.isRequired,\n    avatar: PropTypes.string.isRequired\n};","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"UserList_list__2FpoQ\"};","import { useEffect, useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport getUsers from '../../services/GetUsers';\nimport getAllUsers from \"../../services/GetAllUsers\";\nimport UserListItem from '../UserListItem';\nimport s from './UserList.module.css';\n\nexport default function UserList({ page, handleUsers }) {\n    const [users, setUsers] = useState([]);\n    const [total, setTotal] = useState(0);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        setLoading(true);\n        getUsers(page)\n        .then(response => {\n            setUsers(users =>\n                page === 1\n                ? response.data\n                : [...users, ...response.data]);\n        })\n        .catch(error => error.message)\n        .finally(() => setLoading(false));\n    }, [page]);\n\n    useEffect(() => {\n        getAllUsers()\n        .then(response => {\n            setTotal(total => response.data.length);\n        })\n        .catch(error => error.message)\n    }, []);\n\n    useEffect(() => {\n        handleUsers({ users, total, loading, page });\n    }, [users, total, loading, page, handleUsers]);\n\n    return (\n        <ul className={s.list}>\n            {users.map(({ id, user, tweets, followers, avatar }) => {\n                return <UserListItem\n                key={id}\n                id={id}\n                name={user}\n                tweets={tweets}\n                followers={followers}\n                avatar={avatar}\n                />\n            })}\n        </ul>\n    );\n};\n\nUserList.propTypes = {\n    page: PropTypes.number.isRequired,\n    handleUsers: PropTypes.func.isRequired\n};","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"LoadMoreButton_button__Rxyb+\"};","import { useEffect, useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport s from './LoadMoreButton.module.css';\n\nexport default function LoadMoreButton({ page, onLoadMore} ) {\n    const [currentPage, setCurrentPage] = useState(0);\n\n    useEffect(() => {\n        setCurrentPage(page)\n    }, [page]);\n\n    return (\n        <button type=\"button\" className={s.button} onClick={() => {\n            setCurrentPage(currentPage => currentPage + 1);\n            onLoadMore(currentPage);\n        }}>\n            Load more\n        </button>\n    )\n};\n\nLoadMoreButton.propTypes = {\n    page: PropTypes.number.isRequired,\n    onLoadMore: PropTypes.func.isRequired\n};\n\n","// extracted by mini-css-extract-plugin\nexport default {\"tweets\":\"TweetsView_tweets__L94rP\",\"link\":\"TweetsView_link__w61XS\"};","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport UserList from '../../components/UserList';\nimport Loader from '../../components/Loader';\nimport LoadMoreButton from '../../components/LoadMoreButton';\nimport s from './TweetsView.module.css';\n\n\nexport default function TweetsView() {\n  const [users, setUsers] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n\n  const handleUsers = ({ users, total, loading, page }) => {\n    setUsers(users);\n    setTotal(total);\n    setLoading(loading);\n    setPage(page);\n  };\n\n  const onLoadMore = () => {\n    setPage(page => page + 1);\n  };\n\n  return (\n    <>\n      <Link to=\"/\" className={s.link}>Back</Link>    \n      <div className={s.tweets}>\n        <UserList page={page} handleUsers={handleUsers}/>\n        {loading && <Loader/>}\n        {users.length > 0 && users.length < total && <LoadMoreButton page={page} onLoadMore={onLoadMore}/>}\n      </div>\n    </>\n  );\n};\n"],"names":["http","get","url","axios","put","body","BASE_URL","FollowButton","_ref","id","followers","onFollowersChange","_useState","useState","_useState2","_slicedToArray","following","setFollowing","_useState3","_useState4","followersCount","setFollowersCount","useEffect","followingLS","localStorage","getItem","concat","followersCountLS","JSON","parse","_jsx","type","className","s","onClick","newFollowersCount","setItem","onFollowClick","style","backgroundColor","children","UserListItem","name","tweets","avatar","formatLabel","number","singularLabel","pluralLabel","toLocaleString","_jsxs","src","logo","alt","width","height","picture","fontWeight","color","newCount","UserList","page","handleUsers","users","setUsers","total","setTotal","_useState5","_useState6","loading","setLoading","arguments","length","undefined","limit","getUsers","then","response","data","_toConsumableArray","catch","error","message","finally","map","_ref2","user","LoadMoreButton","onLoadMore","currentPage","setCurrentPage","TweetsView","_useState7","_useState8","setPage","_Fragment","Link","to","Loader"],"sourceRoot":""}