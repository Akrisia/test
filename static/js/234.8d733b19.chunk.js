"use strict";(self.webpackChunktest=self.webpackChunktest||[]).push([[234],{530:function(t,e,a){a.r(e),a.d(e,{default:function(){return k}});var n=a(439),o=a(791),s=a(87),r=a(433),c=a(243),i={get:function(t){return c.Z.get(t)},put:function(t,e){return c.Z.put(t,e)}},l="https://643a731890cd4ba563f9a53b.mockapi.io/api/v1/";var u="https://643a731890cd4ba563f9a53b.mockapi.io/api/v1/";var f="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJgAAAAsCAYAAACZmXFCAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAASFSURBVHgB7ZzBSxtBFMZfiilEUKEW2oIe9KCghXrQg6dCz/2be+ihHtqLUAuNoAc9RGgK5hChEez7zFu7JvNmZ3dmjNT3g0GdzD42u59vvn0zSevm5uYjGQVHrVbrlCLg67nCP3bIuOUZGWW2WSCLZCTDBDbNHotsnowkmMCm6XDbJSMJJjA3i5zFtsiIxgSms84iWyMjChOYH5j+ZTIaYwKrZsdMf3NMYNXcmn4W2RwZtTGBhYHa2AYZtTGBhWOmvwEmsHqY6a9JLl8x4nbObSi/X9HYy7S5LXF7wa2pcUa8Abee/H4t/Yj/kttCROwQYPoPeM1ySA/PEY3fexlc093AsXWBNdimCFILrM+tyxe/XzVQMgF8TWhGgJiwEH3C8a+VMacSe0Vi5xBaYfq/eM4jF4PJa8vn0QkdWxeOTbGkFFitnQjy5g/E10AMbc/wM4kfdEN5HLLnOcfeoDzmvDD9P8jwksqDHTbd5iLHHXmGICMeNskWfEwXx1MezPQHkEJgEMAZNUSKmJvKyxciksZkFpmZ/gpip8iBTwCytwoN0x9M8W8ePyq9jv59GvuaSTD+uyd2W2LjPVz7/AbOUYSQQwyzNP0+VhXxT3lYuZaubKz5u2BiBeac2uSE33F77XitWxIlxmhv4pzHXSnxX9F412i71IexZx7Bo3+f0jNL0+9jRemHP508T+ggSyE5RmBDT9ZwikvY4JuxSuMygzYGOKddEdee46WOxJ7j85oy3zhXfg1ZJseTpZl+hRiB9VydUiIoCwc31ZWJcFP6E38XGamvZS/mLfmB+b5QxH9B7qkgBeuSRUdk3BEjME0Ak1npOOQhgG8Ost6qLzaPQewQX4A4LoFdUl5QlDwn446Yp0jN1KaYgrTYoR/I0Mz8Q3gky2AlHusWFO28Qm/en8jjm4IHicf2NDlTYjLYc6U/xTSkZcHQtTVt+o5+7PZwEluz+x+JEdiC0j/pQTqox5RayDTnnOLEuIdkiJ7Sv0R5GLqeXI04ga26OkUE5WUjPL7vl1rI6nzbUyE/JD8nshbpwlcWaQoEf0CGkxiBqSLgG4wCrMuPwANp2WWSFSU2BPxZid3VMomUT3JMkd88JZUnT6zJR3Zy/vcWa4AlEY64r87+JCx1nLqOkb5PEhu1M4jrsqKSvknp6dZ8T0+O2MXuZdkSo4KMI63JjdjxfdhC4vbkpyouOcfU2ctMfQApdlNsVImsCln+cfkjPBDsxXyiJ9OeMDP1gaTaDwaRbdUVAhbFucH0Y21R23CIafB93c8mlmInFxeZqQ8mZaF1ndsbvqk/abwtRy0niHdC1sKTaDsgNqa3D3wclpyOK2IXW0/WAmPXZZamfl7WO8vUnfo7jq3Q2eqDrYxfQAfPNaR/xVFkIAi6MOaxsX/RuKA6kni4SEuUZ89XQbfKd9kX0N0n51JRsdkwR+2piP2QmKlvgH0uMgwz9Q0xgVVjpj4CE1g1VqmPwATm58gq9XGYwHROYr/S3DCBaQzM1KfBBDYNTP1XMpJgApvGTH1CTGD3MVOfmL8NaLjcbuMKoAAAAABJRU5ErkJggg==",g=a.p+"static/media/picture.7009908930a9bac45a3e.png",d={followButton:"FollowButton_followButton__snK3K"},m=a(184);function w(t){var e=t.id,a=t.followers,s=t.onFollowersChange,r=(0,o.useState)(!1),c=(0,n.Z)(r,2),i=c[0],l=c[1],u=(0,o.useState)(a),f=(0,n.Z)(u,2),g=f[0],w=f[1];(0,o.useEffect)((function(){var t=localStorage.getItem("following-".concat(e)),a=localStorage.getItem("followersCount-".concat(e));null!==t&&null!==a&&(l(JSON.parse(t)),w(JSON.parse(a)))}),[e]);return(0,m.jsx)("button",{type:"button",className:d.followButton,onClick:function(){return function(t){var e=i?g-1:g+1;localStorage.setItem("following-".concat(t),!i),localStorage.setItem("followersCount-".concat(t),e),l(!i),w(e),s(e)}(e)},style:{backgroundColor:i?"var(--accent-color)":"var(--secondary-color)"},children:i?"Following":"Follow"})}var A={item:"UserListItem_item__WgKxR",logo:"UserListItem_logo__fE6dN",picture:"UserListItem_picture__sHGRE",divider:"UserListItem_divider__tp7NX",avatar:"UserListItem_avatar__m5GSc",text:"UserListItem_text__OirAE"};function v(t){var e=t.id,a=t.name,s=t.tweets,r=t.followers,c=t.avatar,i=(0,o.useState)(r),l=(0,n.Z)(i,2),u=l[0],d=l[1],v=function(t,e,a){return 1===t?"".concat(t," ").concat(e):"".concat(t.toLocaleString()," ").concat(a)};return(0,m.jsxs)("li",{className:A.item,children:[(0,m.jsx)("img",{className:A.logo,src:f,alt:"logo",width:"76",height:"22"}),(0,m.jsx)("img",{className:A.picture,src:g,alt:"abstract figures",width:"308",height:"168"}),(0,m.jsx)("div",{className:A.divider,children:(0,m.jsx)("img",{className:A.avatar,src:c,alt:a,width:"62",height:"62"})}),(0,m.jsxs)("div",{className:A.text,children:[(0,m.jsx)("span",{style:{fontWeight:700,color:"var(--accent-color)"},children:a}),(0,m.jsx)("span",{children:v(s,"tweet","tweets")}),(0,m.jsx)("span",{children:v(u,"follower","followers")})]}),(0,m.jsx)(w,{id:e,followers:u,onFollowersChange:function(t){d(t)}})]})}var h={list:"UserList_list__2FpoQ"};function x(t){var e=t.page,a=t.handleUsers,s=(0,o.useState)([]),c=(0,n.Z)(s,2),f=c[0],g=c[1],d=(0,o.useState)(0),w=(0,n.Z)(d,2),A=w[0],x=w[1],p=(0,o.useState)(!1),S=(0,n.Z)(p,2),j=S[0],Z=S[1];return(0,o.useEffect)((function(){Z(!0),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;return i.get("".concat(l,"users?p=").concat(t,"&l=").concat(e))}(e).then((function(t){g((function(a){return 1===e?t.data:[].concat((0,r.Z)(a),(0,r.Z)(t.data))}))})).catch((function(t){return t.message})).finally((function(){return Z(!1)}))}),[e]),(0,o.useEffect)((function(){i.get("".concat(u,"users")).then((function(t){x((function(e){return t.data.length}))})).catch((function(t){return t.message}))}),[]),(0,o.useEffect)((function(){a({users:f,total:A,loading:j,page:e})}),[f,A,j,e,a]),(0,m.jsx)("ul",{className:h.list,children:f.map((function(t){var e=t.id,a=t.user,n=t.tweets,o=t.followers,s=t.avatar;return(0,m.jsx)(v,{id:e,name:a,tweets:n,followers:o,avatar:s},e)}))})}var p=a(708),S={button:"LoadMoreButton_button__Rxyb+"};function j(t){var e=t.page,a=t.onLoadMore,s=(0,o.useState)(0),r=(0,n.Z)(s,2),c=r[0],i=r[1];return(0,o.useEffect)((function(){i(e)}),[e]),(0,m.jsx)("button",{type:"button",className:S.button,onClick:function(){i((function(t){return t+1})),a(c)},children:"Load more"})}var Z={tweets:"TweetsView_tweets__L94rP",link:"TweetsView_link__w61XS"};function k(){var t=(0,o.useState)([]),e=(0,n.Z)(t,2),a=e[0],r=e[1],c=(0,o.useState)(0),i=(0,n.Z)(c,2),l=i[0],u=i[1],f=(0,o.useState)(!1),g=(0,n.Z)(f,2),d=g[0],w=g[1],A=(0,o.useState)(1),v=(0,n.Z)(A,2),h=v[0],S=v[1];return(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(s.rU,{to:"/",className:Z.link,children:"Back"}),(0,m.jsxs)("div",{className:Z.tweets,children:[(0,m.jsx)(x,{page:h,handleUsers:function(t){var e=t.users,a=t.total,n=t.loading,o=t.page;r(e),u(a),w(n),S(o)}}),d&&(0,m.jsx)(p.Z,{}),a.length>0&&a.length<l&&(0,m.jsx)(j,{page:h,onLoadMore:function(){S((function(t){return t+1}))}})]})]})}}}]);
//# sourceMappingURL=234.8d733b19.chunk.js.map