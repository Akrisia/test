{"version":3,"file":"static/js/234.bf1c76d3.chunk.js","mappings":"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","sources":["services/Api.jsx","services/GetUsers.jsx","services/GetAllUsers.jsx","webpack://test/./src/components/FollowButton/FollowButton.module.css?5e3f","components/FollowButton/FollowButton.jsx","webpack://test/./src/components/UserListItem/UserListItem.module.css?3495","components/UserListItem/UserListItem.jsx","webpack://test/./src/components/UserList/UserList.module.css?8f44","components/UserList/UserList.jsx","webpack://test/./src/components/LoadMoreButton/LoadMoreButton.module.css?ca48","components/LoadMoreButton/LoadMoreButton.jsx","webpack://test/./src/views/TweetsView/TweetsView.module.css?31aa","views/TweetsView/TweetsView.jsx"],"sourcesContent":["import axios from \"axios\";\n\nexport const http = {\n    get(url) {\n        return axios.get(url);\n    },\n    put(url, body) {\n        return axios.put(url, body);\n    }\n};","import { http } from \"./Api\";\n\nconst BASE_URL = 'https://643a731890cd4ba563f9a53b.mockapi.io/api/v1/';\n\nexport default function getUsers (page = 1, limit = 8) {\n    return http.get(`${BASE_URL}users?p=${page}&l=${limit}`);\n};","import { http } from \"./Api\";\n\nconst BASE_URL = 'https://643a731890cd4ba563f9a53b.mockapi.io/api/v1/';\n\nexport default function getAllUsers () {\n    return http.get(`${BASE_URL}users`);\n};","// extracted by mini-css-extract-plugin\nexport default {\"followButton\":\"FollowButton_followButton__snK3K\"};","import { useState, useEffect } from \"react\";\nimport PropTypes from 'prop-types';\nimport s from './FollowButton.module.css';\n\nexport default function FollowButton({ id, followers, onFollowersChange }) {\n    const [following, setFollowing] = useState(false);\n    const [followersCount, setFollowersCount] = useState(followers);\n\n    useEffect(() => {\n        const followingLS = localStorage.getItem(`following-${id}`);\n        const followersCountLS = localStorage.getItem(`followersCount-${id}`);\n        if(followingLS !== null && followersCountLS !== null) {\n            setFollowing(JSON.parse(followingLS));\n            setFollowersCount(JSON.parse(followersCountLS));\n        }\n    }, [id]);\n    \n    const onFollowClick = (id) => {\n        const newFollowersCount = following ? followersCount - 1 : followersCount + 1;\n        localStorage.setItem(`following-${id}`, !following);\n        localStorage.setItem(`followersCount-${id}`, newFollowersCount);\n        setFollowing(!following);\n        setFollowersCount(newFollowersCount);\n        onFollowersChange(newFollowersCount);      \n    };\n\n    return (\n        <button type=\"button\"\n                className={s.followButton}\n                onClick={() => onFollowClick(id)}\n                style={{ backgroundColor: following ? 'var(--accent-color)' : 'var(--secondary-color)' }}>\n            {following ? 'Following' : 'Follow'}\n        </button>\n    )\n};\n\nFollowButton.propTypes = {\n    id: PropTypes.number.isRequired,\n    followers: PropTypes.number.isRequired,\n    onFollowersChange: PropTypes.func.isRequired\n};\n\n","// extracted by mini-css-extract-plugin\nexport default {\"item\":\"UserListItem_item__WgKxR\",\"logo\":\"UserListItem_logo__fE6dN\",\"picture\":\"UserListItem_picture__sHGRE\",\"divider\":\"UserListItem_divider__tp7NX\",\"avatar\":\"UserListItem_avatar__m5GSc\",\"stripe\":\"UserListItem_stripe__3kVKf\",\"text\":\"UserListItem_text__OirAE\"};","import { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport logo from '../../images/logo.png';\nimport picture from '../../images/picture.png';\nimport FollowButton from '../FollowButton';\nimport s from './UserListItem.module.css';\n\nexport default function UserListItem({ id, name, tweets, followers, avatar }) {\n    const [followersCount, setFollowersCount] = useState(followers);\n    const handleFollowersChange = (newCount) => {\n        setFollowersCount(newCount);\n    }\n    return (\n        <li className={s.item}>\n            <img className={s.logo} src={logo} alt='logo'/>\n            <img className={s.picture} src={picture} alt='abstract figures'/>\n            <div className={s.divider}>\n                <div className={s.stripe}></div>\n                <img className={s.avatar} src={avatar} alt={name}/>\n            </div>\n            <div className={s.text}>\n                <span style={{fontWeight: 700, color: 'var(--accent-color)'}}>{name}</span>\n                <span>{tweets === 1 ? tweets + ' tweet' : tweets.toLocaleString() + ' tweets'}</span>\n                <span>{followersCount === 1 ? followersCount + ' follower' : followersCount.toLocaleString() + ' followers'}</span>\n            </div>\n            <FollowButton id={id} followers={followersCount} onFollowersChange={handleFollowersChange} />\n        </li>\n    )\n};\n\nUserListItem.propTypes = {\n    id: PropTypes.number.isRequired,\n    name: PropTypes.string.isRequired,\n    tweets: PropTypes.number.isRequired,\n    followers: PropTypes.number.isRequired,\n    avatar: PropTypes.string.isRequired\n};","// extracted by mini-css-extract-plugin\nexport default {\"list\":\"UserList_list__2FpoQ\"};","import { useEffect, useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport getUsers from '../../services/GetUsers';\nimport getAllUsers from \"../../services/GetAllUsers\";\nimport UserListItem from '../UserListItem';\nimport s from './UserList.module.css';\n\nexport default function UserList({ page, handleUsers }) {\n    const [users, setUsers] = useState([]);\n    const [total, setTotal] = useState(0);\n    const [loading, setLoading] = useState(false);\n\n    useEffect(() => {\n        setLoading(true);\n        getUsers(page)\n        .then(response => {\n            setUsers(users =>\n                page === 1\n                ? response.data\n                : [...users, ...response.data]);\n        })\n        .catch(error => error.message)\n        .finally(() => setLoading(false));\n    }, [page]);\n\n    useEffect(() => {\n        getAllUsers()\n        .then(response => {\n            setTotal(total => response.data.length);\n        })\n        .catch(error => error.message)\n    }, []);\n\n    useEffect(() => {\n        handleUsers({ users, total, loading, page });\n    }, [users, total, loading, page, handleUsers]);\n\n    return (\n        <ul className={s.list}>\n            {users.map(({ id, user, tweets, followers, avatar }) => {\n                return <UserListItem\n                key={id}\n                id={id}\n                name={user}\n                tweets={tweets}\n                followers={followers}\n                avatar={avatar}\n                />\n            })}\n        </ul>\n    );\n};\n\nUserList.propTypes = {\n    page: PropTypes.number.isRequired,\n    handleUsers: PropTypes.func.isRequired\n};","// extracted by mini-css-extract-plugin\nexport default {\"button\":\"LoadMoreButton_button__Rxyb+\"};","import { useEffect, useState } from \"react\";\nimport PropTypes from 'prop-types';\nimport s from './LoadMoreButton.module.css';\n\nexport default function LoadMoreButton({ page, onLoadMore} ) {\n    const [currentPage, setCurrentPage] = useState(0);\n\n    useEffect(() => {\n        setCurrentPage(page)\n    }, [page]);\n\n    return (\n        <button type=\"button\" className={s.button} onClick={() => {\n            setCurrentPage(currentPage => currentPage + 1);\n            onLoadMore(currentPage);\n        }}>\n            Load more\n        </button>\n    )\n};\n\nLoadMoreButton.propTypes = {\n    page: PropTypes.number.isRequired,\n    onLoadMore: PropTypes.func.isRequired\n};\n\n","// extracted by mini-css-extract-plugin\nexport default {\"tweets\":\"TweetsView_tweets__L94rP\",\"link\":\"TweetsView_link__w61XS\"};","import { useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport UserList from '../../components/UserList';\nimport Loader from '../../components/Loader';\nimport LoadMoreButton from '../../components/LoadMoreButton';\nimport s from './TweetsView.module.css';\n\n\nexport default function TweetsView() {\n  const [users, setUsers] = useState([]);\n  const [total, setTotal] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [page, setPage] = useState(1);\n\n  const handleUsers = ({ users, total, loading, page }) => {\n    setUsers(users);\n    setTotal(total);\n    setLoading(loading);\n    setPage(page);\n  };\n\n  const onLoadMore = () => {\n    setPage(page => page + 1);\n  };\n\n  return (\n    <>\n      <Link to=\"/test\" className={s.link}>Back</Link>    \n      <div className={s.tweets}>\n        <UserList page={page} handleUsers={handleUsers}/>\n        {loading && <Loader/>}\n        {users.length > 0 && users.length < total && <LoadMoreButton page={page} onLoadMore={onLoadMore}/>}\n      </div>\n    </>\n  );\n};\n"],"names":["http","get","url","axios","put","body","BASE_URL","FollowButton","_ref","id","followers","onFollowersChange","_useState","useState","_useState2","_slicedToArray","following","setFollowing","_useState3","_useState4","followersCount","setFollowersCount","useEffect","followingLS","localStorage","getItem","concat","followersCountLS","JSON","parse","_jsx","type","className","s","onClick","newFollowersCount","setItem","onFollowClick","style","backgroundColor","children","UserListItem","name","tweets","avatar","_jsxs","src","logo","alt","picture","fontWeight","color","toLocaleString","newCount","UserList","page","handleUsers","users","setUsers","total","setTotal","_useState5","_useState6","loading","setLoading","arguments","length","undefined","limit","getUsers","then","response","data","_toConsumableArray","catch","error","message","finally","map","_ref2","user","LoadMoreButton","onLoadMore","currentPage","setCurrentPage","TweetsView","_useState7","_useState8","setPage","_Fragment","Link","to","Loader"],"sourceRoot":""}